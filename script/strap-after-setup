#!/bin/bash
### ------------------- Strap post-installation scripts ------------------- ###
# Based on https://github.com/MikeMcQuaid/dotfiles
# Designed for use with Strap: https://github.com/MikeMcQuaid/strap
# Run by run_dotfile_scripts() in strap.sh

# Run scripts: scripts must be executable (chmod +x)
echo "-> Running scripts from script/strap-after-setup"
~/.dotfiles/script/symlink.sh
~/.dotfiles/script/npm_globals.sh
~/.dotfiles/script/macos.sh

echo "-> Must install VSCodium CLI before running codium_extensions.sh."
echo "Open the app, then in the command palette, type 'shell command'."
# ~/.dotfiles/script/codium_extensions.sh codium code-insiders

# Install Poetry: https://python-poetry.org/docs/
echo "-> Installing Poetry for Python packaging and dependency management"
curl -fsSL \
  https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py |
  python -

# Create directory for Zsh shell functions
mkdir ~/.zfunc

# Set shell
echo "-> Changing shell to Zsh. Password entry required, enabled with --debug."
if [ "$SHELL" != "/bin/zsh" ]; then
  chsh -s /bin/zsh
fi
